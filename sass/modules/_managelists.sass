// Imports ------------------------------------------------------------------

@import lightbox

/* Actions -------------------------------------------------------------------

=hbuttons($n)
  +float(left)
  width: 1/$n*100%
  text-align: center

.actions
  h3
    +gone
  ul
    +no-style-list
  .import_export
    display: none

  .manageform
    +pie-clearfix
    background: rgba($mid,$small)
    li
      +hbuttons(3)
      &:last-child
        a
          #{$link}
            border: 0
    a
      #{$link}
        +padding-leader(.25)
        +padding-trailer(.25)
        display: block
        color: $base
        font-weight: bold
        border-right: 1px solid $mid
        &::before
          padding-right: $xsmallem
      #{$focus}
        +background-image(linear-gradient(left,rgba($light,0),rgba($light,$xsmall),rgba($light,0)))
      &.selectall
        +icon('ui/check_circle.png')
      &.selectnone
        +icon('ui/minus_circle.png')
      &.create
        +icon('ui/plus.png')

#add-address-form
  label
    +gone
  li
    +trailer(.5)
  [name="complex"]
    +float(left)
    width: 5%
    ~ input
      +float(right)
      width: 92%
    &:not(:checked)
      + label
        +back
        +float(right)
        width: 92%
      ~ input
        display: none
    &:checked
      ~ input
        display: block

/* Address Table -------------------------------------------------------------

#addresstable
  +column-grid-background(8,$col-width,$gutter-width,0em,$force-fluid:true)
  width: fixed(8) + $gutter-width + $side-gutter-width
  counter-reset: address

  h2
    +gone
  button
    +no-style-button
  p, ul
    margin: 0

  [title="history"]
    +icon('ui/history.png',$replace:true)
  [name="delete"]
    +icon('ui/trash.png',$replace:true)
    height: $base-rhythm-unit
  [name="approve"]
    +icon('ui/warning.png','ui/check.png',replace)
  [name="unapprove"]
    +icon('ui/check.png','ui/warning.png',replace)


  [title="edit"]
    +icon('ui/pencil.png',$replace:true)
  .editing
    background: rgba(mix(yellow,#eee), $xxxsmall)
    [title="edit"]
      background-image: image-url('ui/disk.png')

  [name="complex"]
    +icon('ui/house.png','ui/bldg.png',replace)
    +inline-block
    vertical-align: baseline
    &.single
      +icon('ui/bldg.png','ui/house.png',replace)
  .summary
    +icon('ui/info.png',$replace:true)

  .managelist
    overflow: hidden
    overflow-y: scroll
    overflow-x: hidden

  .address
    +pie-clearfix
    +transition(all,300ms)
    clear: both
    counter-increment: address
    position: relative
    &:hover
      .controls
        +opacity(1)
      .summary
        +opacity(.75)
        #{$focus}
          +opacity(1)
      .approved
        .approval
          +opacity(1)

  .content
    +clearfix
    +trailing-border(1px,.25)
    padding-right: $gutter-width
    border-color: $light

  [id^="select_"]
    +gone
    &:checked + .content
      background-color: rgba($alt,$xxxsmall)
      .street-address
        &::before
          color: $alt

  .adr
    +columns(4,8)
    +prefix(1,8)
    +padding-leader(.25)
    position: relative
    color: $mid
    font-weight: normal
    &::before
      +adjust-font-size-to($medpx)
      +transition(all,300ms)
      +opacity(1)
      position: absolute
      left: 0
      content: counter(address, upper-latin) "."
      width: columns(1,5)
      color: $base
      font-weight: bold
      text-align: right

  .street-address
    color: $base
    font-weight: bold
  .locality, .region, .postal-code
    +inline-block

  .id
    +columns(3,8)
    +omega(8)
    color: orange
    text-align: right
    font-weight: bold
    .approval, .value
      +inline-block
      margin: 0
    .value
      +leader(.25)
    .approval
      +leader(.25)

    &.unmapped
      .value
        display: block
        color: $accent

    &.approved
      color: $base
      .approval
        +opacity(0)
        +transition(all,300ms)

  .controls, .summary
    +opacity(0)
    +transition(opacity,.3s)

  .controls
    +no-style-list
    +float(right)
    li
      +float(left)

  .summary
    +float(right)
    margin: 0

  .more
    clear: both
    padding-left: columns(1,8) + gutter(8)
    color: $mid

  .complex, .byline
    +trailer(.5)

  .complex
    .name, .multiple, .single
      +inline-block

  .savechanges
    +icon('ui/disk_l.png',$replace:true)
    +opacity(0)
    +transition(all,300ms)
    position: absolute
    top: rhythm(.5)
    right: columns(7,8) + gutter(8)

  .editing
    .adr
      &::before
        +opacity(0)
    .savechanges
      +opacity(1)
