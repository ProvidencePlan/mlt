// Imports -------------------------------------------------------------------

@import defaults

// 1452px Grid -----------------------------------------------------------------
// (29*3em + 28*1em + 2em) = 117em = 1404px
// 60px + 12px x 20px

$total-cols         : 29
$col-width          : 3em
$gutter-width       : 1em
$side-gutter-width  : $gutter-width

/* Layout --------------------------------------------------------------

body > div
  +container
  min-width: 60em

[role="banner"]
  +full
  +clearfix
  +padding-leader(.5)

h1
  +fixed-columns(8)
  a
    #{$link}
      display: block

.nav
  +clearfix
  margin-left: fixed(8) + gutter-width()

[role="navigation"]
  +columns(11,21)
  +omega(21)
  text-align: right

.meta
  +columns(10,21)

[role="main"]
  +full
  +pie-clearfix
  +h-borders(1px,1)
  position: relative
  min-height: rhythm(24)
  border-color: $light

[role="contentinfo"]
  +full
  +adjust-font-size-to(12px)
  +trailer(1,12px)
  font-style: italic
  small
    font: inherit

/* Login ---------------------------------------------------------------------

#login
  +full(29)
  +pad(6,6,29)
  form
    +leader
  label
    +gone
  li
    +trailer(.5)

/* Modules -------------------------------------------------------------------

@import modules/filter
@import modules/managelists

/* Address Table -------------------------------------------------------------

#addresstable
  +fixed-columns(8)
  +column-grid-background(8,$col-width,$gutter-width,0em,$force-fluid:true)
  counter-reset: address

  h2
    +gone
  button
    +no-style-button

  .address
    counter-increment: address
    position: relative
    #{$focus}
      .controls
        +opacity(1)

    .content
      +clearfix
      +padding-leader(1)
      +trailing-border(1px,1.5)
      margin-right: - $gutter-width
      padding-right: $gutter-width
      border-color: $light

  .controls
    +opacity(0)
    +no-style-list
    +pie-clearfix
    position: absolute
    right: 0
    bottom: 0
    left: 0
    margin-right: - $gutter-width
    padding-right: $gutter-width
    background: rgba($light,.5)
    border-top: 1px solid rgba($light,.75)
    li
      +columns(2,8)
      &:nth-child(4n)
        +omega(8)

    [title="history"]
      +icon('ui/clock.png')
    [title="edit"]
      +icon('ui/pencil.png')
    [title="delete"]
      +icon('ui/trash.png')
    [title="approve"]
      +icon('ui/check.png')

  [id^="select_"]
    +gone
    &:checked + .content
      background: rgba($light,.5)

  .header
    +clearfix
    display: block

  .adr
    +columns(4,8)
    +prefix(1,8)
    +trailer(.5)
    position: relative
  .street-address
    +adjust-font-size-to($medpx)
    display: block
    &::before
      position: absolute
      left: 0
      content: counter(address, upper-latin) "."
      width: columns(1,5)
      text-align: right

  .id
    +columns(3,8)
    +omega(8)
    text-align: right
    font-weight: bold

  .complex
    +box-sizing(border-box)
    +columns(4,8)
    margin:
      left: columns(1,8) + gutter(8)
      bottom: 0
    padding-left: 1.5em
    background: image-url('ui/house.png') no-repeat scroll left

  summary
    +columns(3,8)
    +omega(8)
    text-align: right
    &::before
      content: "view "
    &::after
      content: " »"

  .open
    summary
      +trailer(.5)
      &::before
        content: "« hide "
      &::after
        content: ""

  .byline, .notes
    +full(8)
    +prefix(1,8)
    +trailer(.5)
    p
      margin: 0
    &:last-child
      margin: 0


/* Map -----------------------------------------------------------------------

#map
  position: absolute
  top: 0
  right: 0
  bottom: 0
  left: fixed(8) + $gutter-width
  padding: rhythm(.5)
  background: $dark
  color: $light
